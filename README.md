# 曲线编辑器 - 使用说明

## 项目概述

这是一个基于Python和Tkinter的交互式曲线编辑器，允许用户通过简单的点击和拖拽操作创建和编辑平滑的二次贝塞尔曲线。

## 功能特性

- 🖱️ 通过点击添加控制点创建曲线
- ✏️ 实时预览曲线形状
- 🖐️ 拖拽控制点调整曲线
- 📊 状态显示当前绘制状态

## 文件结构

```
bezier_editor/
├── core/
│   ├── curve.py        # 贝塞尔曲线实现
│   ├── point.py        # 控制点实现
│   └── utils.py        # 工具函数
├── editor/
│   ├── canvas.py       # 画布组件
│   └── controls.py     # 控制按钮组件
└── main.py             # 主程序入口
```

## 安装与运行

### 系统要求
- Python 3.6+
- Tkinter（通常随Python一起安装）

### 运行步骤
1. 克隆或下载项目
2. 在项目目录中运行：
   ```bash
   python main.py
   ```

## 使用指南

### 基本操作

1. **开始绘制**：
   - 点击"开始绘制"按钮激活绘制模式

2. **添加曲线**：
   - 在画布上点击添加控制点
   - 每两个点自动形成一段贝塞尔曲线

3. **调整曲线**：
   - 点击选择控制点
   - 拖拽控制点调整曲线形状

4. **完成绘制**：
   - 双击最后一个点结束当前曲线绘制

### 界面说明

- **控制面板**：
  - "开始绘制"按钮：激活绘制模式
  - 状态显示：显示当前绘制状态（未开始/进行中/已完成）

- **画布区域**：
  - 黑色实线：已完成的曲线
  - 灰色虚线：当前预览的曲线
  - 银色圆点：控制点（红色表示选中状态）

## 技术实现

### 核心算法

1. **贝塞尔曲线计算**：
   - 使用二次贝塞尔曲线公式：`B(t) = (1-t)²P₀ + 2(1-t)tP₁ + t²P₂`
   - 对t∈[0,1]区间采样100个点生成平滑曲线

2. **曲线连接**：
   - 第一条曲线：控制点为起点和终点的中点
   - 后续曲线：控制点与前一条曲线对称，确保平滑连接

### 交互逻辑

- **事件处理**：
  - 单击：添加/选择控制点
  - 拖拽：移动控制点
  - 双击：结束当前曲线绘制

## 开发说明

### 扩展建议

1. **新增功能**：
   - 添加曲线颜色选择
   - 实现撤销/重做功能
   - 添加保存/加载功能

2. **代码优化**：
   - 提高大规模曲线的渲染性能
   - 增强错误处理和边界条件检查

### 已知限制

- 控制点数量较多时性能可能下降

